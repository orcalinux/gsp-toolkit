<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2453px" preserveAspectRatio="none" style="width:2933px;height:2453px;background:#FFFFFF;" version="1.1" viewBox="0 0 2933 2453" width="2933px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="383" x="1273.5" y="27.9951">BSP Sequence - Multiple Requests Timeout Case</text><rect fill="#FF9F1C" height="50.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="83.5938"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="1016.1094"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="2105.1563"/><rect fill="#FF9F1C" height="123.6641" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="133.8594"/><rect fill="#FF9F1C" height="58.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="336.9219"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="936.7109"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1045.2422"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1173.7734"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1340.5703"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1484.2344"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2025.7578"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2134.2891"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2262.8203"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="257.5234"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="857.3125"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1109.5078"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1419.9688"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1946.3594"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="2198.5547"/><rect fill="#FF9F1C" height="58.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="395.1875"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="828.1797"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1202.9063"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1513.3672"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1917.2266"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="2291.9531"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="453.4531"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="799.0469"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1232.0391"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1542.5"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1888.0938"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="2321.0859"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="482.5859"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="734.7813"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1261.1719"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1571.6328"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1823.8281"/><rect fill="#FF9F1C" height="59.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="2350.2188"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="561.9844"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="655.3828"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="1651.0313"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="1744.4297"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2745" y="591.1172"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2745" y="1680.1641"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="163" x2="163" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="513" x2="513" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="882" x2="882" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1250" x2="1250" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1624" x2="1624" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2005" x2="2005" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2387" x2="2387" y1="73.5938" y2="2418.4844"/><line style="stroke:#1E1E1E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2750" x2="2750" y1="73.5938" y2="2418.4844"/><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="77" x="125" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="132" y="62.292">Host App</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="77" x="125" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="132" y="2437.4795">Host App</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="122" x="452" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="459" y="62.292">Host Cmd Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="122" x="452" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="459" y="2437.4795">Host Cmd Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="117" x="824" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="831" y="62.292">Host DTL Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="117" x="824" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="831" y="2437.4795">Host DTL Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="118" x="1191" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1198" y="62.292">Host PHY Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="118" x="1191" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1198" y="2437.4795">Host PHY Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="131" x="1559" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1566" y="62.292">Target PHY Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="131" x="1559" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1566" y="2437.4795">Target PHY Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="130" x="1940" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1947" y="62.292">Target DTL Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="130" x="1940" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1947" y="2437.4795">Target DTL Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="135" x="2320" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="2327" y="62.292">Target Cmd Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="135" x="2320" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="2327" y="2437.4795">Target Cmd Layer</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="90" x="2705" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2712" y="62.292">Target App</text><rect fill="#053671" height="30.2969" rx="2.5" ry="2.5" style="stroke:#1E1E1E;stroke-width:0.5;" width="90" x="2705" y="2417.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="2712" y="2437.4795">Target App</text><rect fill="#FF9F1C" height="50.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="83.5938"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="1016.1094"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="158.5" y="2105.1563"/><rect fill="#FF9F1C" height="123.6641" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="133.8594"/><rect fill="#FF9F1C" height="58.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="336.9219"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="936.7109"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1045.2422"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1173.7734"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1340.5703"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="1484.2344"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2025.7578"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2134.2891"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="508" y="2262.8203"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="257.5234"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="857.3125"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1109.5078"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1419.9688"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="1946.3594"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="877.5" y="2198.5547"/><rect fill="#FF9F1C" height="58.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="395.1875"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="828.1797"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1202.9063"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1513.3672"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="1917.2266"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1245" y="2291.9531"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="453.4531"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="799.0469"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1232.0391"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1542.5"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="1888.0938"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="1619.5" y="2321.0859"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="482.5859"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="734.7813"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1261.1719"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1571.6328"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="1823.8281"/><rect fill="#FF9F1C" height="59.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2000" y="2350.2188"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="561.9844"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="655.3828"/><rect fill="#FF9F1C" height="29.1328" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="1651.0313"/><rect fill="#FF9F1C" height="79.3984" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2382.5" y="1744.4297"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2745" y="591.1172"/><rect fill="#FF9F1C" height="64.2656" style="stroke:#1E1E1E;stroke-width:1.0;" width="10" x="2745" y="1680.1641"/><polygon fill="#1E1E1E" points="501,100.7266,511,104.7266,501,108.7266,505,104.7266" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="168.5" x2="507" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="175.5" y="99.6606">[1]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="200.5" y="99.6606">sendCommand(WRITE_CHUNK, chunk1)</text><polygon fill="#1E1E1E" points="496,129.8594,506,133.8594,496,137.8594,500,133.8594" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="163.5" x2="502" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="170.5" y="128.7935">[2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="195.5" y="128.7935">sendCommand(WRITE_CHUNK, chunk2)</text><path d="M523,146.8594 L523,201.8594 L924,201.8594 L924,156.8594 L914,146.8594 L523,146.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M914,146.8594 L914,156.8594 L924,156.8594 L914,146.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372" x="529" y="163.9263">&#8226; Frame CRA(WRITE_CHUNK, Session ID=0x06 for chunk1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372" x="529" y="179.0591">&#8226; Frame CRA(WRITE_CHUNK, Session ID=0x07 for chunk2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="529" y="194.1919">&#8226; Start timers (200 ms each)</text><polygon fill="#1E1E1E" points="870.5,224.3906,880.5,228.3906,870.5,232.3906,874.5,228.3906" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="518" x2="876.5" y1="228.3906" y2="228.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="525" y="223.3247">[3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="550" y="223.3247">wrapCRA(WRITE_CHUNK, chunk1)</text><polygon fill="#1E1E1E" points="865.5,253.5234,875.5,257.5234,865.5,261.5234,869.5,257.5234" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="871.5" y1="257.5234" y2="257.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="520" y="252.4575">[4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="545" y="252.4575">wrapCRA(WRITE_CHUNK, chunk2)</text><path d="M892,270.5234 L892,310.5234 L1182,310.5234 L1182,280.5234 L1172,270.5234 L892,270.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1172,270.5234 L1172,280.5234 L1182,280.5234 L1172,270.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="898" y="287.5903">&#8226; SLIP+CRC(chunk1, Seq#=0, Len=256)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="898" y="302.7231">&#8226; SLIP+CRC(chunk2, Seq#=1, Len=256)</text><polygon fill="#1E1E1E" points="529,332.9219,519,336.9219,529,340.9219,525,336.9219" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523" x2="881.5" y1="336.9219" y2="336.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="535" y="331.856">[5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="560" y="331.856">CRA_write1, CRA_write2</text><polygon fill="#1E1E1E" points="1238,362.0547,1248,366.0547,1238,370.0547,1242,366.0547" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="518" x2="1244" y1="366.0547" y2="366.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="525" y="360.9888">[6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="550" y="360.9888">sendFrame(CRA_write1)</text><polygon fill="#1E1E1E" points="1233,391.1875,1243,395.1875,1233,399.1875,1237,395.1875" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="1239" y1="395.1875" y2="395.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="520" y="390.1216">[7]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="545" y="390.1216">sendFrame(CRA_write2)</text><polygon fill="#1E1E1E" points="1612.5,420.3203,1622.5,424.3203,1612.5,428.3203,1616.5,424.3203" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1255" x2="1618.5" y1="424.3203" y2="424.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1262" y="419.2544">[8]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1287" y="419.2544">UART bytes (CRA_write1)</text><polygon fill="#1E1E1E" points="1607.5,449.4531,1617.5,453.4531,1607.5,457.4531,1611.5,453.4531" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1250" x2="1613.5" y1="453.4531" y2="453.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1257" y="448.3872">[9]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1282" y="448.3872">UART bytes (CRA_write2)</text><polygon fill="#1E1E1E" points="1988,478.5859,1998,482.5859,1988,486.5859,1992,482.5859" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1624.5" x2="1994" y1="482.5859" y2="482.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1631.5" y="477.52">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1665.5" y="477.52">deliverBytes() [CRA_write1]</text><path d="M2015,495.5859 L2015,535.5859 L2137,535.5859 L2137,505.5859 L2127,495.5859 L2015,495.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2127,495.5859 L2127,505.5859 L2137,505.5859 L2127,495.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2021" y="512.6528">&#8226; SLIP-decode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2021" y="527.7856">&#8226; CRC check OK</text><polygon fill="#1E1E1E" points="2370.5,557.9844,2380.5,561.9844,2370.5,565.9844,2374.5,561.9844" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2005" x2="2376.5" y1="561.9844" y2="561.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2012" y="556.9185">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="2046" y="556.9185">extractCRA(WRITE_CHUNK, chunk1)</text><polygon fill="#1E1E1E" points="2733,587.1172,2743,591.1172,2733,595.1172,2737,591.1172" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2387.5" x2="2739" y1="591.1172" y2="591.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2394.5" y="586.0513">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="2428.5" y="586.0513">deliverCommand(WRITE_CHUNK, chunk1)</text><path d="M2760,604.1172 L2760,629.1172 L2926,629.1172 L2926,614.1172 L2916,604.1172 L2760,604.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2916,604.1172 L2916,614.1172 L2926,614.1172 L2916,604.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="2766" y="621.1841">&#8226; Write chunk1 to flash</text><polygon fill="#1E1E1E" points="2403.5,651.3828,2393.5,655.3828,2403.5,659.3828,2399.5,655.3828" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2397.5" x2="2749" y1="655.3828" y2="655.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2409.5" y="650.3169">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="2443.5" y="650.3169">sendResponse(write_resp1, Status=0x00)</text><path d="M2397,668.3828 L2397,708.3828 L2700,708.3828 L2700,678.3828 L2690,668.3828 L2397,668.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2690,668.3828 L2690,678.3828 L2700,678.3828 L2690,668.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="2403" y="685.4497">&#8226; Wrap CRA(write_resp1, Session ID=0x06)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2403" y="700.5825">&#8226; Start ACK-timer (200 ms)</text><polygon fill="#1E1E1E" points="2021,730.7813,2011,734.7813,2021,738.7813,2017,734.7813" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2015" x2="2386.5" y1="734.7813" y2="734.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2027" y="729.7153">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2061" y="729.7153">wrapCRA(write_resp1)</text><path d="M2015,747.7813 L2015,772.7813 L2195,772.7813 L2195,757.7813 L2185,747.7813 L2015,747.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2185,747.7813 L2185,757.7813 L2195,757.7813 L2185,747.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="2021" y="764.8481">&#8226; SLIP+CRC(write_resp1)</text><polygon fill="#1E1E1E" points="1640.5,795.0469,1630.5,799.0469,1640.5,803.0469,1636.5,799.0469" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1634.5" x2="2004" y1="799.0469" y2="799.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1646.5" y="793.981">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1680.5" y="793.981">sendFrame(write_resp1)</text><polygon fill="#1E1E1E" points="1266,824.1797,1256,828.1797,1266,832.1797,1262,828.1797" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1260" x2="1623.5" y1="828.1797" y2="828.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1272" y="823.1138">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1306" y="823.1138">UART bytes (write_resp1)</text><polygon fill="#1E1E1E" points="898.5,853.3125,888.5,857.3125,898.5,861.3125,894.5,857.3125" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="892.5" x2="1249" y1="857.3125" y2="857.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="904.5" y="852.2466">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="938.5" y="852.2466">deliverBytes() [write_resp1]</text><path d="M892,870.3125 L892,910.3125 L1014,910.3125 L1014,880.3125 L1004,870.3125 L892,870.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1004,870.3125 L1004,880.3125 L1014,880.3125 L1004,870.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="898" y="887.3794">&#8226; SLIP-decode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="898" y="902.5122">&#8226; CRC check OK</text><polygon fill="#1E1E1E" points="529,932.7109,519,936.7109,529,940.7109,525,936.7109" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="523" x2="881.5" y1="936.7109" y2="936.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="535" y="931.645">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="569" y="931.645">extractCRA(write_resp1)</text><path d="M523,949.7109 L523,989.7109 L762,989.7109 L762,959.7109 L752,949.7109 L523,949.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M752,949.7109 L752,959.7109 L762,959.7109 L752,949.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="529" y="966.7778">&#8226; Parse status (OK)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="529" y="981.9106">&#8226; Stop Response-timer for chunk1</text><polygon fill="#1E1E1E" points="179.5,1012.1094,169.5,1016.1094,179.5,1020.1094,175.5,1016.1094" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="173.5" x2="512" y1="1016.1094" y2="1016.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="185.5" y="1011.0435">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="219.5" y="1011.0435">deliverResponse(write_resp1)</text><polygon fill="#1E1E1E" points="496,1041.2422,506,1045.2422,496,1049.2422,500,1045.2422" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="163.5" x2="502" y1="1045.2422" y2="1045.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="170.5" y="1040.1763">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="204.5" y="1040.1763">sendACK() [for write_resp1]</text><path d="M523,1058.2422 L523,1083.2422 L854,1083.2422 L854,1068.2422 L844,1058.2422 L523,1058.2422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M844,1058.2422 L844,1068.2422 L854,1068.2422 L844,1058.2422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="529" y="1075.3091">&#8226; Wrap CRA(ACK, Session ID=0x06, Flags=0x04)</text><polygon fill="#1E1E1E" points="865.5,1105.5078,875.5,1109.5078,865.5,1113.5078,869.5,1109.5078" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="871.5" y1="1109.5078" y2="1109.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="1104.4419">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="554" y="1104.4419">wrapCRA(ACK)</text><path d="M892,1122.5078 L892,1147.5078 L1028,1147.5078 L1028,1132.5078 L1018,1122.5078 L892,1122.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1018,1122.5078 L1018,1132.5078 L1028,1132.5078 L1018,1122.5078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="898" y="1139.5747">&#8226; Build ACK frame</text><polygon fill="#1E1E1E" points="529,1169.7734,519,1173.7734,529,1177.7734,525,1173.7734" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523" x2="881.5" y1="1173.7734" y2="1173.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="535" y="1168.7075">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="569" y="1168.7075">ACK_write1</text><polygon fill="#1E1E1E" points="1233,1198.9063,1243,1202.9063,1233,1206.9063,1237,1202.9063" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="1239" y1="1202.9063" y2="1202.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="1197.8403">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="554" y="1197.8403">sendFrame(ACK_write1)</text><polygon fill="#1E1E1E" points="1607.5,1228.0391,1617.5,1232.0391,1607.5,1236.0391,1611.5,1232.0391" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1250" x2="1613.5" y1="1232.0391" y2="1232.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1257" y="1226.9731">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1291" y="1226.9731">UART bytes (ACK_write1)</text><polygon fill="#1E1E1E" points="1988,1257.1719,1998,1261.1719,1988,1265.1719,1992,1261.1719" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1624.5" x2="1994" y1="1261.1719" y2="1261.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1631.5" y="1256.106">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1665.5" y="1256.106">deliverBytes() [ACK_write1]</text><path d="M2015,1274.1719 L2015,1314.1719 L2391,1314.1719 L2391,1284.1719 L2381,1274.1719 L2015,1274.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2381,1274.1719 L2381,1284.1719 L2391,1284.1719 L2381,1274.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="2021" y="1291.2388">&#8226; No ACK received for WRITE_CHUNK chunk2 response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2021" y="1306.3716">&#8226; ACK-timer for chunk2 continues</text><line style="stroke:#1E1E1E;stroke-width:2.0;" x1="1631.5" x2="1641.5" y1="1335.5703" y2="1345.5703"/><line style="stroke:#1E1E1E;stroke-width:2.0;" x1="1631.5" x2="1641.5" y1="1345.5703" y2="1335.5703"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1636.5" x2="2004" y1="1340.5703" y2="1340.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1641.5" y="1335.5044">[26]</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="1675.5" y="1335.5044">No ACK received for chunk2 response</text><path d="M523,1353.5703 L523,1393.5703 L953,1393.5703 L953,1363.5703 L943,1353.5703 L523,1353.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M943,1353.5703 L943,1363.5703 L953,1363.5703 L943,1353.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="529" y="1370.6372">&#8226; Response-timer for chunk2 expires (200 ms)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="529" y="1385.77">&#8226; Retry sendCommand(WRITE_CHUNK, chunk2) (Attempt 1 of 5)</text><polygon fill="#1E1E1E" points="865.5,1415.9688,875.5,1419.9688,865.5,1423.9688,869.5,1419.9688" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="871.5" y1="1419.9688" y2="1419.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="1414.9028">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="554" y="1414.9028">wrapCRA(WRITE_CHUNK, chunk2) &#171;retry&#187;</text><path d="M892,1432.9688 L892,1457.9688 L1174,1457.9688 L1174,1442.9688 L1164,1432.9688 L892,1432.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1164,1432.9688 L1164,1442.9688 L1174,1442.9688 L1164,1432.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="898" y="1450.0356">&#8226; SLIP+CRC(chunk2, Seq#=1, Len=256)</text><polygon fill="#1E1E1E" points="529,1480.2344,519,1484.2344,529,1488.2344,525,1484.2344" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523" x2="881.5" y1="1484.2344" y2="1484.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="535" y="1479.1685">[28]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="569" y="1479.1685">CRA_write2_retry</text><polygon fill="#1E1E1E" points="1233,1509.3672,1243,1513.3672,1233,1517.3672,1237,1513.3672" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="1239" y1="1513.3672" y2="1513.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="1508.3013">[29]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="554" y="1508.3013">sendFrame(CRA_write2_retry)</text><polygon fill="#1E1E1E" points="1607.5,1538.5,1617.5,1542.5,1607.5,1546.5,1611.5,1542.5" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1250" x2="1613.5" y1="1542.5" y2="1542.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1257" y="1537.4341">[30]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1291" y="1537.4341">UART bytes (CRA_write2_retry)</text><polygon fill="#1E1E1E" points="1988,1567.6328,1998,1571.6328,1988,1575.6328,1992,1571.6328" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1624.5" x2="1994" y1="1571.6328" y2="1571.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1631.5" y="1566.5669">[31]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1665.5" y="1566.5669">deliverBytes() [CRA_write2_retry]</text><path d="M2015,1584.6328 L2015,1624.6328 L2137,1624.6328 L2137,1594.6328 L2127,1584.6328 L2015,1584.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2127,1584.6328 L2127,1594.6328 L2137,1594.6328 L2127,1584.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2021" y="1601.6997">&#8226; SLIP-decode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2021" y="1616.8325">&#8226; CRC check OK</text><polygon fill="#1E1E1E" points="2370.5,1647.0313,2380.5,1651.0313,2370.5,1655.0313,2374.5,1651.0313" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2005" x2="2376.5" y1="1651.0313" y2="1651.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2012" y="1645.9653">[32]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="2046" y="1645.9653">extractCRA(WRITE_CHUNK, chunk2)</text><polygon fill="#1E1E1E" points="2733,1676.1641,2743,1680.1641,2733,1684.1641,2737,1680.1641" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2387.5" x2="2739" y1="1680.1641" y2="1680.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2394.5" y="1675.0981">[33]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="2428.5" y="1675.0981">deliverCommand(WRITE_CHUNK, chunk2)</text><path d="M2760,1693.1641 L2760,1718.1641 L2926,1718.1641 L2926,1703.1641 L2916,1693.1641 L2760,1693.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2916,1693.1641 L2916,1703.1641 L2926,1703.1641 L2916,1693.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="2766" y="1710.231">&#8226; Write chunk2 to flash</text><polygon fill="#1E1E1E" points="2403.5,1740.4297,2393.5,1744.4297,2403.5,1748.4297,2399.5,1744.4297" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2397.5" x2="2749" y1="1744.4297" y2="1744.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2409.5" y="1739.3638">[34]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="2443.5" y="1739.3638">sendResponse(write_resp2, Status=0x00)</text><path d="M2397,1757.4297 L2397,1797.4297 L2700,1797.4297 L2700,1767.4297 L2690,1757.4297 L2397,1757.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2690,1757.4297 L2690,1767.4297 L2700,1767.4297 L2690,1757.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="2403" y="1774.4966">&#8226; Wrap CRA(write_resp2, Session ID=0x07)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2403" y="1789.6294">&#8226; Start ACK-timer (200 ms)</text><polygon fill="#1E1E1E" points="2021,1819.8281,2011,1823.8281,2021,1827.8281,2017,1823.8281" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="2015" x2="2386.5" y1="1823.8281" y2="1823.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2027" y="1818.7622">[35]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2061" y="1818.7622">wrapCRA(write_resp2)</text><path d="M2015,1836.8281 L2015,1861.8281 L2195,1861.8281 L2195,1846.8281 L2185,1836.8281 L2015,1836.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2185,1836.8281 L2185,1846.8281 L2195,1846.8281 L2185,1836.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="2021" y="1853.895">&#8226; SLIP+CRC(write_resp2)</text><polygon fill="#1E1E1E" points="1640.5,1884.0938,1630.5,1888.0938,1640.5,1892.0938,1636.5,1888.0938" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1634.5" x2="2004" y1="1888.0938" y2="1888.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1646.5" y="1883.0278">[36]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1680.5" y="1883.0278">sendFrame(write_resp2)</text><polygon fill="#1E1E1E" points="1266,1913.2266,1256,1917.2266,1266,1921.2266,1262,1917.2266" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1260" x2="1623.5" y1="1917.2266" y2="1917.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1272" y="1912.1606">[37]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1306" y="1912.1606">UART bytes (write_resp2)</text><polygon fill="#1E1E1E" points="898.5,1942.3594,888.5,1946.3594,898.5,1950.3594,894.5,1946.3594" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="892.5" x2="1249" y1="1946.3594" y2="1946.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="904.5" y="1941.2935">[38]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="938.5" y="1941.2935">deliverBytes() [write_resp2]</text><path d="M892,1959.3594 L892,1999.3594 L1014,1999.3594 L1014,1969.3594 L1004,1959.3594 L892,1959.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1004,1959.3594 L1004,1969.3594 L1014,1969.3594 L1004,1959.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="898" y="1976.4263">&#8226; SLIP-decode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="898" y="1991.5591">&#8226; CRC check OK</text><polygon fill="#1E1E1E" points="529,2021.7578,519,2025.7578,529,2029.7578,525,2025.7578" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="523" x2="881.5" y1="2025.7578" y2="2025.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="535" y="2020.6919">[39]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="569" y="2020.6919">extractCRA(write_resp2)</text><path d="M523,2038.7578 L523,2078.7578 L762,2078.7578 L762,2048.7578 L752,2038.7578 L523,2038.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M752,2038.7578 L752,2048.7578 L762,2048.7578 L752,2038.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="529" y="2055.8247">&#8226; Parse status (OK)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="529" y="2070.9575">&#8226; Stop Response-timer for chunk2</text><polygon fill="#1E1E1E" points="179.5,2101.1563,169.5,2105.1563,179.5,2109.1563,175.5,2105.1563" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="173.5" x2="512" y1="2105.1563" y2="2105.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="185.5" y="2100.0903">[40]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="219.5" y="2100.0903">deliverResponse(write_resp2)</text><polygon fill="#1E1E1E" points="496,2130.2891,506,2134.2891,496,2138.2891,500,2134.2891" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="163.5" x2="502" y1="2134.2891" y2="2134.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="170.5" y="2129.2231">[41]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="204.5" y="2129.2231">sendACK() [for write_resp2]</text><path d="M523,2147.2891 L523,2172.2891 L854,2172.2891 L854,2157.2891 L844,2147.2891 L523,2147.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M844,2147.2891 L844,2157.2891 L854,2157.2891 L844,2147.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="529" y="2164.356">&#8226; Wrap CRA(ACK, Session ID=0x07, Flags=0x08)</text><polygon fill="#1E1E1E" points="865.5,2194.5547,875.5,2198.5547,865.5,2202.5547,869.5,2198.5547" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="871.5" y1="2198.5547" y2="2198.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="2193.4888">[42]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="554" y="2193.4888">wrapCRA(ACK)</text><path d="M892,2211.5547 L892,2236.5547 L1028,2236.5547 L1028,2221.5547 L1018,2211.5547 L892,2211.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1018,2211.5547 L1018,2221.5547 L1028,2221.5547 L1018,2211.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="898" y="2228.6216">&#8226; Build ACK frame</text><polygon fill="#1E1E1E" points="529,2258.8203,519,2262.8203,529,2266.8203,525,2262.8203" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523" x2="881.5" y1="2262.8203" y2="2262.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="535" y="2257.7544">[43]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="569" y="2257.7544">ACK_write2</text><polygon fill="#1E1E1E" points="1233,2287.9531,1243,2291.9531,1233,2295.9531,1237,2291.9531" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="513" x2="1239" y1="2291.9531" y2="2291.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="520" y="2286.8872">[44]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="554" y="2286.8872">sendFrame(ACK_write2)</text><polygon fill="#1E1E1E" points="1607.5,2317.0859,1617.5,2321.0859,1607.5,2325.0859,1611.5,2321.0859" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1250" x2="1613.5" y1="2321.0859" y2="2321.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1257" y="2316.02">[45]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1291" y="2316.02">UART bytes (ACK_write2)</text><polygon fill="#1E1E1E" points="1988,2346.2188,1998,2350.2188,1988,2354.2188,1992,2350.2188" style="stroke:#1E1E1E;stroke-width:1.0;"/><line style="stroke:#1E1E1E;stroke-width:1.0;" x1="1624.5" x2="1994" y1="2350.2188" y2="2350.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1631.5" y="2345.1528">[46]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1665.5" y="2345.1528">deliverBytes() [ACK_write2]</text><path d="M2015,2363.2188 L2015,2403.2188 L2218,2403.2188 L2218,2373.2188 L2208,2363.2188 L2015,2363.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2208,2363.2188 L2208,2373.2188 L2218,2373.2188 L2208,2363.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="2021" y="2380.2856">&#8226; Extract CRA(ACK)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="2021" y="2395.4185">&#8226; Stop ACK-timer for chunk2</text><!--SRC=[pLVTJjj85BxtKno1j4rO8f9fWLq4ICOf2YBRHi5TjAeGClQ4M2GUTsRCZrOhzI7s2NhRHzYxFagVPCyuTZmsTWX9s6sAH8c_ypFdVEVCvrVV__wyaX_utHUHCm91fVI3Qm6hSco86py87UwCeUTmwRj-w0IovtWUXe4MQMg0C0F0dmRWvyXnRwuvYmBFOYF6ORsv_NfdjpLvnhX7-UHxzLblKVKlVdRC0faz0RWR-f8QVscn1FqKqS2bII2JStQdMsGVtM_N7z2k7z1Yx2fO8Nq56mn-7RJS6AOLPDPXTDYCUcYmgkCRqfSZ2XiRHsSzE4ihq83Vef7qGtpILzy9AS3snvH54Yn7q8qDmz1RizPXGe8PXclJ6Za2EcO9o1fxq7KUA5zBG5O9g6rtyw1s2QZN-ICFwkL1jiElQGw68BiSf0LKe7OfI4jTWQnIa5O41J8Dmuaa2wBn5UMmjdzr-B5viRzrTRXc6A-oMMlL8JwJBmHM6-GT0vUDnqxWhMxkAkVHSQL_wqYg6jOneN68JO4zd0V5gJY9sdd_n7vxQNK-l3lT17SO1JUj-lnOKZSygaVHGbf6mF0tzw-74jX0VG7m_VCNECQPf63rpRp3Cog4pm8uQHyqxvixC41A9ma1FCTqDpCbcUcPn9w2HAvp0JNIRC9O0EO-h1juH52vvXg7fkVS2U6dk0HmnUGGRdr74MfBCU-bUePLLxLlO-tlCFwZiqvxD0-kq1zBxq-xs9zsMgdkIUzdgs_L9g5KUJ-j7pGteKk30xAzezKqXoG9ifKXiz9YeesKKvZhvHt7DON8wVz9BjDsdad9ONi98MCQr38tzIS0iyhGCz0ARMrb-y7ist3r875Iy-wVW1G2z79CUbs7P8KCSOf6Q3WfB8Z8TP6vWsWqUe0LJpokGtkIj6A8HqV-BUL7AkrQ7JvcPxlG4qSZpKEH8BPEa8P7NURHAHMG1NWiwjx0-zEiwnXSfQ2QJkybHz-LVDRJqBkFszYEcskRsK5cRY_TazvgNDc50vb9ykUg56bN98F1o153xHHcp5qxtOTzAa8M25gBItZ9yKyr9TAHaL0Bg9dFmSoVff23DSq1busgJjvfVYaMrvbfdJRYbPPkD6tYaghf2q9pFQDCC_iUZtlEJx7P-Hci39dhSKhMJd72Aitp8_OckML3pjH4PIF6arObQroeYi52DsYw9pfbywIbUL7S17DktFa6gjEUtipQG5LLgRX6AovaL9DO8H7p5shlJtMMiH1IkYTCo-vbBQt9-jKcj6n6PcpXYJxHHGSsIbLMHQkixdnwOpfPwFBHH6t2ySYvZiVsJVtHWVJXGUj5RjEZo1zvCUq6QY3ARqHydEpZPz-2cUaYbroLTS-Ozoh9F2nobRnZSMauTIbwzM9oQKizKJ7P6AV4p1PVflLGM0VuGeioEx-J6lUOpHxik-ejQOzJxx0iQY7I_bOCFopkB6tfRDV1cXYfJ0IeTwXQmAOkwl02GhwIvLLJId1HX3wdKz6RJNUVIlxmfC97aaX9nw64bWguFNjAIZry-yfLg6__BAr6dwynoMKSUt5rcJXOIaAM-iXVOJjJbLYun1GdLPzUvCLmJfcOvFzZY4MoCh58bXIBP36nI5v2B997hy4h4ujaHMAHp2yMoN9YaSmIYxlbOf4iBXQVBnF9_oiJoNye4yapPI9PNYQILSl4NKqc_l83o4Iok4maIyb4ihHC98jS8cyd94xRKs1UcHZC2fZV8_y2]--></g></svg>